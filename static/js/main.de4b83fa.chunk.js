(this.webpackJsonpanimations=this.webpackJsonpanimations||[]).push([[0],{12:function(e,n,t){},13:function(e,n,t){"use strict";t.r(n);var a=t(0),c=t(1),r=t.n(c),i=t(6),o=t.n(i),l=(t(12),t(3)),s=t(2),u=t(4);var b=function(e,n,t,a,c,r,i){for(var o,l,s,u,b,h,j,d=r?e.getImageData(0,0,e.canvas.width,e.canvas.height):e.createImageData(e.canvas.width,e.canvas.height),p=d.data,O=0,g=0,x=0;x<p.length;x+=4,O++){O===t&&(O=0,g++),o=O+1-Math.floor(t/2),l=Math.floor(a/2)-g;var v=n%(2*c);s=v<c?v:2*c-v-1,u=p[x],b=p[x+1],h=p[x+2],j=p[x+3],i.graph(o,l,s,u,b,h,j)&&(p[x]=i.red(o,l,s,u,b,h,j),p[x+1]=i.green(o,l,s,u,b,h,j),p[x+2]=i.blue(o,l,s,u,b,h,j)),p[x+3]=i.alpha(o,l,s,u,b,h,j)}e.putImageData(d,0,0)};var h=function(e){var n=e.width,t=e.height,r=e.tmax,i=e.reuse,o=e.condition,l=Object(c.useRef)(null);return Object(c.useEffect)((function(){var e=l.current.getContext("2d"),a=0;return function c(){b(e,a,n,t,r,i,o),a=window.requestAnimationFrame(c)}(),function(){window.cancelAnimationFrame(a)}}),[n,t,r,i,o]),Object(a.jsx)("canvas",{className:"animation",ref:l,width:n,height:t})};var j=function(e){var n=e.tmax,t=e.reuse,c=e.equation,r=e.inputValid,i=e.component,o=e.handleChange,l=e.handleSubmit;return Object(a.jsx)("div",{className:"graph",children:Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("label",{className:"graph-title",children:" graph "}),Object(a.jsx)("br",{}),Object(a.jsxs)("div",{className:"column",children:[Object(a.jsx)("label",{children:" Equation "}),Object(a.jsx)("br",{}),Object(a.jsx)("textarea",{name:"equation",id:"graph",value:c,onChange:o}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{children:" Operation "}),Object(a.jsxs)("select",{name:"operation",id:"graph",onChange:o,children:[Object(a.jsx)("option",{}),Object(a.jsx)("option",{value:"&&",children:" AND "}),Object(a.jsx)("option",{value:"||",children:" OR "})]}),Object(a.jsx)("button",{id:"graph",onClick:l,children:" Add "}),Object(a.jsx)("br",{}),!r&&Object(a.jsx)("span",{className:"error-message",children:"invalid syntax"}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{children:" T Max "}),Object(a.jsx)("br",{}),Object(a.jsx)("input",{type:"number",name:"tmax",value:n,onChange:o}),Object(a.jsx)("br",{}),Object(a.jsx)("input",{type:"checkbox",name:"reuse",checked:t,onChange:o}),Object(a.jsx)("label",{children:" Reuse Canvas "})]}),Object(a.jsx)("div",{className:"column",children:i})]})})};var d=function(e){var n=e.id,t=e.equation,c=e.inputValid,r=e.component,i=e.handleChange,o=e.handleSubmit;return Object(a.jsx)("div",{className:n,children:Object(a.jsxs)("div",{className:"row",children:[Object(a.jsxs)("label",{className:n+"-title",children:[" ",n," "]}),Object(a.jsx)("br",{}),Object(a.jsxs)("div",{className:"column",children:[Object(a.jsx)("label",{children:" Equation "}),Object(a.jsx)("br",{}),Object(a.jsx)("textarea",{name:"equation",id:n,value:t,onChange:i}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{children:" Operation "}),Object(a.jsxs)("select",{name:"operation",id:n,onChange:i,children:[Object(a.jsx)("option",{}),Object(a.jsx)("option",{value:"+",children:" + "}),Object(a.jsx)("option",{value:"-",children:" - "}),Object(a.jsx)("option",{value:"*",children:" * "}),Object(a.jsx)("option",{value:"/",children:" / "}),Object(a.jsx)("option",{value:"%",children:" % "})]}),Object(a.jsx)("button",{id:n,onClick:o,children:" Add "}),Object(a.jsx)("br",{}),c?Object(a.jsx)("br",{}):Object(a.jsx)("span",{className:"error-message",children:"invalid syntax"})]}),Object(a.jsx)("div",{className:"column",children:r})]})})};var p=function(e){var n=e.tmax,t=e.reuse,c=e.equation,r=e.validity,i=e.component,o=e.handleChange,l=e.handleSubmit,s=["red","green","blue","alpha"].map((function(e){return Object(a.jsx)(d,{id:e,equation:c[e],inputValid:r[e],component:i[e],handleChange:o,handleSubmit:l},e)}));return Object(a.jsxs)("div",{className:"form",children:[Object(a.jsx)(j,{tmax:n,reuse:t,equation:c.graph,inputValid:r.graph,component:i.graph,handleChange:o,handleSubmit:l}),s]})};var O=function(){var e=Math.floor(Math.min(.9*window.innerWidth,.9*window.innerHeight)),n=e,t=Object(c.useState)(200),r=Object(u.a)(t,2),i=r[0],o=r[1],b=Object(c.useState)(!0),j=Object(u.a)(b,2),d=j[0],O=j[1],g=Object(c.useState)({graph:null,red:null,green:null,blue:null,alpha:null}),x=Object(u.a)(g,2),v=x[0],m=x[1],f=Object(c.useState)({graph:"",red:"",green:"",blue:"",alpha:""}),w=Object(u.a)(f,2),q=w[0],C=w[1],k=Object(c.useReducer)((function(e,n){var t=n.name,a=n.id,c=n.value,r=[];return"equation"===t?(e[a].forEach((function(e){r.push(e)})),r.push({op:v[a],eq:q[a]}),1===r.length&&(r[0].op=null)):"remove"===t&&(e[a].forEach((function(e){e.eq!==c&&r.push(e)})),r[0]&&r[0].op&&(r[0].op=null)),Object(s.a)(Object(s.a)({},e),{},Object(l.a)({},a,r))}),{graph:[{op:null,eq:"x*x + y*y < t*t"},{op:"&&",eq:"Math.cos(t*x)>Math.sin(y)"},{op:"||",eq:"Math.cos(t*y)>Math.sin(y)"}],red:[{op:null,eq:"(3 * t) % 256"},{op:"-",eq:"(Math.cos(t*y)>Math.sin(y) ? -100 : 0)"}],green:[{op:null,eq:"(5 * t) % 256"}],blue:[{op:null,eq:"(2 * t) % 256"},{op:"+",eq:"(x*x + y*y < t*t ? -100 : 0)"}],alpha:[{op:null,eq:"255"}]}),y=Object(u.a)(k,2),N=y[0],S=y[1],A=Object(c.useState)({graph:!0,red:!0,green:!0,blue:!0,alpha:!0}),M=Object(u.a)(A,2),E=M[0],W=M[1],R={graph:Object(c.useCallback)(new Function("x","y","t","r","g","b","a","return "+D("graph")),[N.graph]),red:Object(c.useCallback)(new Function("x","y","t","r","g","b","a","return "+D("red")),[N.red]),green:Object(c.useCallback)(new Function("x","y","t","r","g","b","a","return "+D("green")),[N.green]),blue:Object(c.useCallback)(new Function("x","y","t","r","g","b","a","return "+D("blue")),[N.blue]),alpha:Object(c.useCallback)(new Function("x","y","t","r","g","b","a","return "+D("alpha")),[N.alpha])},F={graph:Object(c.useCallback)(I("graph"),[N.graph]),red:Object(c.useCallback)(I("red"),[N.red]),green:Object(c.useCallback)(I("green"),[N.green]),blue:Object(c.useCallback)(I("blue"),[N.blue]),alpha:Object(c.useCallback)(I("alpha"),[N.alpha])};function D(e){var n="";return N[e].forEach((function(e){e.op&&(n+=e.op),n+=e.eq})),n}function I(e){return N[e].map((function(n){var t="";return n.op&&(t+="&&"===n.op?"AND ":"||"===n.op?"OR ":n.op+" "),t+=n.eq,Object(a.jsxs)("div",{children:[Object(a.jsx)("button",{name:"remove",id:e,value:n.eq,onClick:V,children:" X "}),Object(a.jsxs)("span",{children:[" ",t," "]})]},n.eq)}))}function V(e){var n=e.target,t=n.name,a=n.id,c=n.value,r=n.checked;"tmax"===t?o(c):"reuse"===t?O(r):"operation"===t?m(Object(s.a)(Object(s.a)({},v),{},Object(l.a)({},a,c))):"equation"===t?C(Object(s.a)(Object(s.a)({},q),{},Object(l.a)({},a,c))):S({name:"remove",id:a,value:c})}return Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{className:"title",children:" Animations "}),Object(a.jsx)(h,{width:e,height:n,tmax:i,reuse:d,condition:R}),Object(a.jsx)("br",{}),Object(a.jsx)(p,{tmax:i,reuse:d,equation:q,validity:E,component:F,handleChange:V,handleSubmit:function(e){e.preventDefault();var n=e.target.id;console.log(n);var t=function(e){var n=v[e],t=q[e];if(!n&&N[e].length>0||0===t.trim().length)return!1;for(var a=0;a<N[e].length;a++)if(N[e][a].eq===t)return!1;return!0}(n);W(Object(s.a)(Object(s.a)({},E),{},Object(l.a)({},n,t))),t&&S({name:"equation",id:n})}})]})},g=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function x(e,n){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(O,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var n="".concat("","/service-worker.js");g?(!function(e,n){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var a=t.headers.get("content-type");404===t.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):x(e,n)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(n,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):x(n,e)}))}}()}},[[13,1,2]]]);
//# sourceMappingURL=main.de4b83fa.chunk.js.map